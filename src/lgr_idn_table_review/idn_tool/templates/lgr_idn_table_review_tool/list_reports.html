{% extends "_base.html" %}
{% load i18n widget_tweaks %}

{% block html_title %}{% trans 'IDN Table Review reports' %}{% endblock %}

{% block navbar-right %}
    <a class="header-link" href="{% url 'lgr_modes' %}">{% trans "Switch mode" %}</a>
    {{ block.super }}
{% endblock %}

{% block content-title %}
    {% trans "IDN Table Review Reports" %}
    <button type="button" class="btn btn-default" onClick="window.location.reload();">
        <i class="glyphicon glyphicon-refresh"></i>
    </button>
{% endblock %}

{% block content %}
    <p>
        {% blocktrans trimmed %}
            The following folders contains your IDN review reports.<br/>
            <strong><i class="glyphicon glyphicon-alert"></i> Note that these files could be cleaned up
                regularly.</strong>
        {% endblocktrans %}
    </p>
    <ul>
        {% regroup reports by report_id as report_ids %}
        {% for reports_grouped in report_ids %}
            <li>
                {% with report=reports_grouped.list|first %}
                    <form method="post" action="{% url "lgr_review_delete_report" report_id=report.report_id %}?next={{ request.path }}">
                        <a href="{% url 'lgr_review_report' report_id=report.report_id %}">{{ report.report_id }}</a>
                        {% csrf_token %}
                        <button type="submit" class="delete_report confirm-prompt"
                                style="border: none; background: none;"
                                data-confirmation-prompt="{% blocktrans with report.report_id as report_id %}Are you sure you want to delete report {{ report_id }}?{% endblocktrans %}">
                            <span class="glyphicon glyphicon-trash" style="color :#333"></span>
                        </button>
                    </form>
                {% endwith %}
            </li>
        {% empty %}
            {% trans 'No report' %}
        {% endfor %}
    </ul>
    <br>
    <a class="btn btn-primary" href="{% url 'lgr_review_mode' %}">{% trans "New report" %}</a>
{% endblock content %}
