{% extends "_base.html" %}
{% load i18n widget_tweaks %}

{% block html_title %}{% trans 'IDN Table Review reports' %}{% endblock %}

{% block navbar-right %}
    <a class="header-link" href="{% url 'lgr_modes' %}">{% trans "Switch mode" %}</a>
    {{ block.super }}
{% endblock %}

{% block content-title %}
    {% trans "IDN Table Review Reports" %}
    <button type="button" class="btn btn-default" onClick="window.location.reload();">
        <i class="glyphicon glyphicon-refresh"></i>
    </button>
{% endblock %}

{% block content %}
    <p>
        {% blocktrans trimmed %}
            The following folders contains your IDN review reports.<br/>
            <strong><i class="glyphicon glyphicon-alert"></i> Note that these files could be cleaned up
                regularly.</strong>
        {% endblocktrans %}
    </p>
    <ul>
        {% regroup reports by report_id as report_ids %}
        {% for reports_grouped in report_ids %}
            <li>
                {% with report=reports_grouped.list|first %}
                    <a href="{% url 'lgr_review_report' report_id=report.report_id %}">{{ report.report_id }}</a>
                    <a href="{% url 'delete_report' storage=report.storage report_id=report.report_id %}?next={{ request.path }}"
                       class="delete_report confirm-prompt"
                       data-confirmation-prompt="{% blocktrans with report.report_id as report_id %}Are you sure you want to delete report {{ report_id }}?{% endblocktrans %}">
                        <i class="glyphicon glyphicon-trash"></i>
                    </a>
                {% endwith %}
            </li>
        {% empty %}
            {% trans 'No report' %}
        {% endfor %}
    </ul>
    <br>
    <a class="btn btn-primary" href="{% url 'lgr_review_mode' %}">{% trans "New report" %}</a>
{% endblock content %}
